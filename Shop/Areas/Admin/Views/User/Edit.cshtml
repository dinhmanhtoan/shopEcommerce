@model UserForm

<div class="card">
    <div class="card-header">
        <h2 class="text-secondary">Edit User</h2>
    </div>
    <div class="card-body">
        <form asp-action="Edit" method="post">
            <div class="bg-danger text-white offset-md-2 d-none" asp-validation-summary="All"></div>
            <div id="loaderror" class="offset-md-2 col-md-10"></div>
            <input type="hidden" asp-for="Id" value="@Model.Id" />
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">FullName</label>
                <div class="col-md-10">
                    <input asp-for="FullName" type="text" value="@Model.FullName" class="form-control" placeholder="FullName" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">Password</label>
                <div class="col-md-10">
                    <input asp-for="Password" type="password" value="@Model.Password" class="form-control" placeholder="Password" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">Email</label>
                <div class="col-md-10">
                    <input asp-for="Email" type="email" value="@Model.Email" class="form-control" placeholder="Email" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">Phone Number</label>
                <div class="col-md-10">
                    <input asp-for="PhoneNumber" type="tel" value="@Model.PhoneNumber" class="form-control number-validate" placeholder="PhoneNumber"/>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">Manager of Vendor</label>
                <div class="col-md-10">
                    <select asp-for="VendorId" asp-items="@Model.VendorItems" class="custom-select"></select>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">roles</label>
                <div class="col-md-10">
                    @foreach (var item in Model.roles)
                    {
                        <div class="form-check">
                            @if (Model.RoleIds.IndexOf(item.Id) > 0)
                            {
                                <input class="form-input-input" type="checkbox" name="RoleIds" value="@item.Id" id="role-@item.Id" checked>
                            }
                            else
                            {
                                <input class="form-input-input" type="checkbox" name="RoleIds" value="@item.Id" id="role-@item.Id">
                            }
                            <label class="form-input-label" for="role-@item.Id">@item.Name</label>
                        </div>
                    }
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2 control-label col-form-label">CustomerGroups</label>
                <div class="col-md-10">
                    @foreach (var item in Model.CustomerGroups)
                    {
                        <div class="form-check">
                            @if (Model.RoleIds.IndexOf(item.Id) > 0)
                            {
                                <input class="form-input-input" type="checkbox" name="CustomerGroupId" value="@item.Id" id="CustomerGroup-@item.Id" checked>
                            }
                            else
                            {
                                <input class="form-input-input" type="checkbox" name="CustomerGroupId" value="@item.Id" id="CustomerGroup-@item.Id">
                            }
                            <label class="form-input-label" for="CustomerGroup-@item.Id">@item.Name</label>
                        </div>
                    }
                </div>
            </div>
            <div class="form-group mt-2">
                <div class="col-md-10 offset-md-2">
                    <button class="btn btn-primary" id="btn-submit" type="submit">Save</button>
                    <a asp-action="Index" class="btn btn-light">Back</a>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts{
  @{  await Html.RenderPartialAsync("_ValidationScriptsPartial");}
<script>
    //var RoleIds = @Html.Raw(Json.Serialize(Model.RoleIds));
    //$("input:checkbox[name='RoleIds']").each(function () {
    //    for (var i = 0; i < RoleIds.length; i++) {

    //        if (RoleIds[i] == $(this).val()) {
    //            $(this).attr("checked", true);
    //        }
    //    }
    //});
</script>

}
